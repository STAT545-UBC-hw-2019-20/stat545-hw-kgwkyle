---
title: 'Assignment 2: Gapminder Exploration'
author: "Kyle Wlodarczyk"
date: "September 19, 2019"
output: 
  html_document:
    df_print: paged
    toc: yes
    theme: cerulean

---

```{r, warning = FALSE, echo = FALSE}
library(gapminder)
library(tidyverse)
library(scales)
library(tsibble)

```

# Exercise 1: Basic dplyr

## Exercise 1.1

```{r, echo = FALSE}
gapminder %>%
  filter(country == "Poland" | country == "Austria" | country == "Switzerland",
         year >= 1970 & year < 1980)

```

## Exercise 1.2

```{r, echo = FALSE}
gapminder %>%
  filter(country == "Poland" | country == "Austria" | country == "Switzerland",
         year >= 1970 & year < 1980) %>%
  select(country, gdpPercap)

```

## Exercise 1.3

```{r, echo = FALSE}
gapminder %>%
  filter(lifeExp < diff(lifeExp, 1))
```

## Exercise 1.4

```{r, echo = FALSE}

topgdp <- gapminder %>%
  select(country, gdpPercap) %>%
  arrange(desc(gdpPercap)) %>%
  top_n(3, gdpPercap)

bottomgdp <- gapminder %>%
  select(country, gdpPercap) %>%
  arrange(desc(gdpPercap)) %>%
  top_n(-3, gdpPercap)

full_join(topgdp, bottomgdp)
  
```

## Exercise 1.5

```{r, echo = FALSE}
gapminder %>%
  filter(country == "Canada") %>%
  ggplot(aes(lifeExp, gdpPercap)) +
  geom_point(alpha = 1) + 
  scale_y_log10("GDP per Capita") +
  xlab("Life Expectancy") +
  theme_bw()

```

# Exercise 2: Explore individual variables with dplyr

Let us explore life expectancies in 1997, which was my birth year.

```{r, echo = FALSE}

Ex2 <- gapminder %>%
  select(country, year, lifeExp) %>%
  filter(year == 1997)

Ex2

```

Now let us explore the range of life expectancies in 1997.

```{r, echo = FALSE}

Ex2 %>%
  select(lifeExp) %>%
  round(1) %>%
  range()

```

The minimum life expectancy is 36.1, and the maximum life expectancy is 80.7.

Now let us see what the mean and median life expectancy is.

```{r, echo = FALSE}

mean(Ex2$lifeExp) %>%
  round(1)

median(Ex2$lifeExp) %>%
  round(1)

```

The mean life expectancy is 65.0, and the median life expectancy is 69.4. The distribution of the life expectancy in 1997 can be said to be left-tailed since the mean is less than the median; therefore, the bulk of the distribution of life expectancies is closer to the maximum than the minimum value. Let's verify the distribution below:


```{r, echo = FALSE}

boxplot(Ex2$lifeExp, data = Ex2, xlab = "Life Expectancy", col = c("blue"), horizontal = TRUE)

```

# Exercise 3: Explore various plot types

```{r, echo = FALSE}

```

